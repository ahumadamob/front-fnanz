<div
  class="ga-layout"
  [class.ga-layout--collapsed]="isSidebarCollapsed()"
  [class.ga-layout--sidebar-open]="!isSidebarCollapsed()"
>
  <aside class="ga-sidebar" [class.ga-sidebar--collapsed]="isSidebarCollapsed()">
    <div class="ga-sidebar__brand">
      <div class="ga-sidebar__logo" aria-hidden="true">
        <svg viewBox="0 0 32 32" fill="none" stroke="currentColor" stroke-width="1.6">
          <path d="M4 26V15" />
          <path d="M12 26V6" />
          <path d="M20 26V11" />
          <path d="M28 26V9" />
          <path d="M3 28h26" />
        </svg>
      </div>
      <div class="ga-sidebar__title">
        <h1>Fnanz</h1>
        <span class="ga-pill ga-pill--ghost">{{ envLabel() }}</span>
      </div>
    </div>

    <nav class="ga-sidebar__nav" aria-label="Principal">
      <a
        *ngFor="let item of navItems"
        [routerLink]="item.route"
        routerLinkActive="is-active"
        [routerLinkActiveOptions]="item.exact ? { exact: true } : { exact: false }"
        (click)="closeSidebarOnMobile()"
      >
        <span class="ga-sidebar__icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <ng-container *ngFor="let path of item.iconPaths">
              <path [attr.d]="path" />
            </ng-container>
          </svg>
        </span>
        <span class="ga-sidebar__label">{{ item.label }}</span>
      </a>
    </nav>

    <div class="ga-sidebar__footer">
      <h2>¿Necesitas ayuda?</h2>
      <p>Revisa la documentación o ponte en contacto con el equipo Fnanz.</p>
      <a class="ga-sidebar__cta" href="mailto:soporte@fnanz.local">Contactar soporte</a>
    </div>
  </aside>

  <div class="ga-main">
    <header class="ga-topbar">
      <button type="button" class="ga-topbar__toggle" (click)="toggleSidebar()">
        <span class="sr-only">Alternar menú lateral</span>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" y1="6" x2="21" y2="6" />
          <line x1="3" y1="12" x2="21" y2="12" />
          <line x1="3" y1="18" x2="21" y2="18" />
        </svg>
      </button>

      <div class="ga-topbar__search">
        <label class="sr-only" for="search">Buscar en Fnanz</label>
        <input id="search" type="search" placeholder="Buscar en la plataforma" />
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="7" />
          <line x1="16.65" y1="16.65" x2="21" y2="21" />
        </svg>
      </div>

      <div class="ga-topbar__actions">
        <button type="button" class="ga-icon-button" aria-label="Notificaciones">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 16v-5a6 6 0 0 0-12 0v5" />
            <path d="M13.73 21a2 2 0 0 1-3.46 0" />
            <path d="M4 16h16" />
          </svg>
        </button>
        <span class="ga-topbar__env">{{ envLabel() }}</span>
        <div class="ga-topbar__avatar" aria-hidden="true">FN</div>
      </div>
    </header>

    <div class="ga-page-header">
      <div>
        <p class="ga-page-header__eyebrow">Panel administrativo</p>
        <h2>Resumen general de la plataforma</h2>
      </div>
      <div class="ga-page-header__meta">
        <span class="ga-pill">{{ currentYear }}</span>
        <span>Fnanz Platform Control Center</span>
      </div>
    </div>

    <main class="ga-main__content">
      <div class="container container--fluid">
        <router-outlet />
      </div>
    </main>

    <footer class="ga-footer">
      <div class="container">
        <p>&copy; {{ currentYear }} Fnanz. Construido con Angular standalone y tema Gradient Able.</p>
      </div>
    </footer>
  </div>
</div>
